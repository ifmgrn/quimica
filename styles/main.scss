/*
	Copyright (c) 2025 ifmgrn
	Licensed under the GNU AGPL-3.0 License.
	See LICENSE.txt for details.
*/

// Ponto de partida, primeiro arquivo a ser executado pelo navegador

@use "sass:math";
@use "sass:color";

// Cores de destaque ("accent")
$accent-color: #8a5cf5;
$accent-h: math.round(color.channel($accent-color, "hue", hsl));
$accent-s: math.round(color.channel($accent-color, "saturation", hsl));
$accent-l: math.round(color.channel($accent-color, "lightness", hsl));

// Importa e configura o Pico (desativa coisas desncessárias para diminuir o tamanho do arquivo final)
@use "@picocss/pico/scss/pico" with (
	// Cor do tema (irrelevante se o módulo "themes/default" estiver desativado)
	$theme-color: "violet",

	// Prefixo para as váriaveis do CSS (deve começar com "--")
	$css-var-prefix: "--",

	/* Defina o elemento raiz usado para estilizar <header>, <main>, <footer> com $enable-semantic-container e $enable-responsive-spacings
	 * Padrão: body
	 */
	$semantic-root-element: ":is(body, body > noscript)",

	// Habilita <header>, <main>, <footer> dentro do $semantic-root-element como contêineres
	$enable-semantic-container: true,

	// Habilita um layout centralizado para <header>, <main>, <footer> dentro do $semantic-root-element (se for desativado, será um layout fluido)
	$enable-viewport: true,

	// Habilita espaçamentos responsivos para <header>, <main>, <footer>, <section>, <article> (espaçamentos fixos por padrão)
	$enable-responsive-spacings: false,

	// Habilita tipografia responsiva (irrelevante se o módulo "themes/default" estiver desativado)
	$enable-responsive-typography: false,

	// Habilita classes (se for desativado, usará semântica de HTML)
	$enable-classes: false,

	// Habilita transições
	$enable-transitions: true,

	// Habilita a substituição com "!important"
	$enable-important: true,

	// Se definido, todas as tags HTML serão encapsuladas com este seletor (tirando :root)
	$parent-selector: "",

	// Pontos de interrupção, janelas de visualização e tamanho da fonte raiz
	$breakpoints: (
			// Pequeno (telefones em modo paisagem)
			// Tamanho da fonte: 17px
			sm: (breakpoint: 576px, viewport: 510px, root-font-size: 106.25%),
			// Médio (tablets)
			// Tamanho da fonte: 18px
			md: (breakpoint: 768px, viewport: 700px, root-font-size: 112.5%),
			// Grande
			// Tamanho da fonte: 19px
			lg: (breakpoint: 1024px, viewport: 960px, root-font-size: 118.75%),
			// Extra grande
			// Tamanho da fonte: 20px
			xl: (breakpoint: 1280px, viewport: 1080px, root-font-size: 125%),
			// Extra extra grande
			// Tamanho da fonte: 21px
			xxl: (breakpoint: 1536px, viewport: 1450px, root-font-size: 131.25%)
		),

	// Módulos para exportar
	$modules: (
			// Tema padrão (do Pico)
			"themes/default": false,

			// Layout
			"layout/document": true,
			"layout/landmarks": true,
			"layout/container": false,
			"layout/section": false,
			"layout/grid": false,
			"layout/overflow-auto": false,

			// Conteúdo
			"content/link": true,
			"content/typography": true,
			"content/embedded": true,
			"content/button": true,
			"content/table": true,
			"content/code": false,
			"content/figure": false,
			"content/misc": false,

			// Formulários
			"forms/basics": true,
			"forms/checkbox-radio-switch": false,
			"forms/input-color": false,
			"forms/input-date": false,
			"forms/input-file": false,
			"forms/input-range": false,
			"forms/input-search": true,

			// Componentes
			"components/accordion": false,
			"components/card": false,
			"components/dropdown": false,
			"components/group": false,
			"components/loading": false,
			"components/modal": false,
			"components/nav": false,
			"components/progress": false,
			"components/tooltip": false,

			// Utilitários
			"utilities/accessibility": false,
			"utilities/reduce-motion": false
		)
);

// Aplica e customiza o nosso tema
@use "theme" with (
	// Cor de destaque
	$accent-color: $accent-color,

	// Cores de destaque para texto (ex.: hyperlinks)
	$accent-color-text: hsl(
			calc($accent-h - 3deg),
			calc($accent-s * 1.02),
			calc($accent-l * 1.15)
		),
	$accent-color-text-hover: hsl(
			calc($accent-h - 5deg),
			calc($accent-s * 1.05),
			calc($accent-l * 1.29)
		),
	$accent-color-text-selected: hsla($accent-h, $accent-s, $accent-l, 33%),
	// Títulos
	// Cor do título (por enquanto, só suporta "accent", que é a cor de destaque sem ser de texto)
	$headings-color: $accent-color,

	// Mapeia cada nível de título para um estilo (por enquanto, só suporta "display" e "stroke")
	$headings-appearance: (h1: "display", h2: "stroke"),
	// Decoração de arte
	$art-deco-color: $accent-color,
	$enable-art-deco-top-frame: true,

	// Habilita o estilo de árvore (raízes) para listas
	$enable-tree-view: true
);
