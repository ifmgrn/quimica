/*
	Copyright (c) 2025 ifmgrn
	Licensed under the GNU AGPL-3.0 License.
	See LICENSE.txt for details.
*/

// Configura as cores para o tema escuro

@use "utils" as *;
@use "settings" as *;

// Cor padrão dos textos
$text-color: #d9d9d9;

// Cor do fundo
$background-color: #070918;

// Cor sútil (de desfoque, usado em textos que não são muito importantes como "placeholders")
$muted-color: css-color-mix(
	lab,
	get($background-color, var(--background-color)),
	get($text-color, var(--color)),
	70%
);

@mixin theme {
	--background-color: #{$background-color};
	--color: #{$text-color};
	--text-selection-color: #{$accent-color-text-selected};

	// Cores de desfoque (usado para coisas que têm menos destaque do que o "normal")
	--muted-color: #{$muted-color};
	--muted-border-color: #{css-color-mix(
			lab,
			get($background-color, var(--background-color)),
			get($text-color, var(--color)),
			10%
		)};

	// Cores primárias ("accent")
	--primary: #{$accent-color-text};
	--primary-background: #{$accent-color};
	--primary-border: #{css-color-mix(
			lab,
			get($background-color, var(--background-color)),
			get($text-color, var(--color)),
			20%
		)};
	--primary-underline: var(--primary);
	--primary-hover: #{$accent-color-text-hover};
	--primary-hover-background: var(--form-element-focus-color);
	--primary-hover-border: var(--primary-hover-background);
	--primary-hover-underline: var(--primary-hover);
	--primary-focus-border: #{css-color-mix(
			lab,
			get($background-color, var(--background-color)),
			get($text-color, var(--color)),
			40%
		)};
	--primary-inverse: inherit;

	// Sombra dos botões
	--button-box-shadow: 0 0 0 rgb(0 0 0 / 0%);
	--button-hover-box-shadow: 0 0 0 rgb(0 0 0 / 0%);

	// Tabela
	--table-border-color: var(--muted-border-color);

	// Elementos de formulário (ex.: input)
	--form-element-background-color: #{css-color-mix(
			lab,
			get($background-color, var(--background-color)),
			get($text-color, var(--color)),
			25%
		)};
	--form-element-border-color: var(--primary-border);
	--form-element-color: var(--color);
	--form-element-active-background-color: var(--form-element-background-color);
	--form-element-active-border-color: var(--primary-focus-border);
	--form-element-focus-color: var(--primary-focus-border);
	--icon-search: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='#{css-color-mix(lab, $background-color, $text-color, 70%, true)}' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><circle cx='11' cy='11' r='8'></circle><line x1='21' y1='21' x2='16.65' y2='16.65'></line></svg>");

	color-scheme: dark;

	@if $enable-tree-view {
		--indentation-guide-color: #{css-color-mix(
				lab,
				get($background-color, var(--background-color)),
				get($text-color, var(--color)),
				15%
			)};
	}
}
