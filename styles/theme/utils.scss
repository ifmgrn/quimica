/*
	Copyright (c) 2025 ifmgrn
	Licensed under the GNU AGPL-3.0 License.
	See LICENSE.txt for details.
*/

// Funções utilitárias

@use "sass:color";
@use "sass:math";

@use "settings" as *;

@function round-color($color) {
	$hue: math.round(color.channel($color, "hue", hsl));
	$saturation: math.round(color.channel($color, "saturation", hsl));
	$lightness: math.round(color.channel($color, "lightness", hsl));
	$alpha: calc(math.round(color.channel($color, "alpha") * 100) / 100);

	@return hsla($hue, $saturation, $lightness, $alpha);
}

@function css-color-mix(
	$space,
	$color1,
	$color2,
	$weight,
	$force_release: false
) {
	@if $debug and not $force_release {
		@return color-mix(in #{$space}, #{$color1}, #{$color2} #{$weight});
	}

	@return round-color(color.mix($color2, $color1, $weight, $space));
}

@function get($release_value, $debug_value) {
	@if $debug {
		@return $debug_value;
	}

	@return $release_value;
}
